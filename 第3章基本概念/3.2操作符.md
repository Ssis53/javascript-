# 第三章 基本概念
## 3.2操作符
&nbsp;

### 3.2.1一元操作符
#### 自增自减操作符：

前置操作<br/>
>`var num1 = 2;`<br/>
`var num2 = 20;`<br/>
`var num3 = --num1 + num2;`// 等于21<br/>
`var num4 = num1 + num2;` // 等于21<br/>

<br/>
后置操作

>`var num1 = 2;`<br/>
`var num2 = 20;`<br/>
`var num3 = num1-- + num2;` // 等于22<br/>
`var num4 = num1 + num2;` // 等于21<br/>

**在应用于不同的值时，递增和递减操作符遵循下列规则:**

+ 在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减1 的操作。字符串变量变成数值变量。

+ 在应用于一个不包含有效数字字符的字符串时，将变量的值设置为NaN（第4 章将详细讨论）。字符串变量变成数值变量。

+ 在应用于布尔值false 时，先将其转换为0 再执行加减1 的操作。布尔值变量变成数值变量。

+ 在应用于布尔值true 时，先将其转换为1 再执行加减1 的操作。布尔值变量变成数值变量。

+ 在应用于浮点数值时，执行加减1 的操作。

+ 在应用于对象时，先调用对象的valueOf()方法（第5 章将详细讨论）以取得一个可供操作的值。然后对该值应用前述规则。如果结果是NaN，则在调用toString()方法后再应用前述规则。对象变量变成数值变量。

#### 一元加减操作符：

一元加操作符以一个加号（+）表示，放在数值前面，对数值不会产生任何影响

>`var num = 25;`<br/>
`num = +num;` // 仍然是25

<br/>

在对非数值应用一元加操作符时，该操作符会像Number()转型函数一样对这个值执行转换。

```
var s1 = "01";
var s2 = "1.1";
var s3 = "z";
var b = false;
var f = 1.1;
var o = {
  valueOf: function() {
    return -1;
  }
};
s1 = +s1; // 值变成数值1
s2 = +s2; // 值变成数值1.1
s3 = +s3; // 值变成NaN
b = +b; // 值变成数值0
f = +f; // 值未变，仍然是1.1
o = +o; // 值变成数值-1
```

### 3.2.2位操作符：

**按位非**
```
var num1 = 25; // 二进制00000000000000000000000000011001
var num2 = ~num1; // 二进制11111111111111111111111111100110
alert(num2); // -26
```

***按位非操作的本质：操作数的负值减1。***

因此，下面的代码也能得到相同的结果：
```
var num1 = 25;
var num2 = -num1 - 1;
alert(num2); // "-26"
```

### 3.2.3布尔操作符：

#### 逻辑非

逻辑非操作符遵循下列规则：

+ 如果操作数是一个对象，返回false；
+ 如果操作数是一个空字符串，返回true；
+ 如果操作数是一个非空字符串，返回false；
+ 如果操作数是数值0，返回true；
+ 如果操作数是任意非0 数值（包括Infinity），返回false；
+ 如果操作数是null，返回true；
+ 如果操作数是NaN，返回true；
+ 如果操作数是undefined，返回true。

><font color="red">使用两个逻辑非操作符，实际
上就会模拟`Boolean()`转型函数的行为。其中，第一个逻辑非操作会基于无论什么操作数返回一个布
尔值，而第二个逻辑非操作则对该布尔值求反，于是就得到了这个值真正对应的布尔值。最终结
果与对这个值使用`Boolean()`函数相同</font>

<br/>

#### 逻辑与

+ 逻辑与操作属于短路操作，即如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值。
+ 如果第一个值的`Boolean()`操作为`true`，那么会执行第二个值或语句
+ 如果第一个值的`Boolean()`操作为`false`,那么第二个值或语句就永远无效了。

`isRun && sayHi();` <br/>
等同于
```
if(isRun) {
  sayHi();
}
```
**在使用逻辑与操作符时要始终铭记它是一个<font color="red" >短路操作符</font>。**

<br/>

#### 逻辑或

+ 与逻辑与操作符相似，逻辑或操作符也是短路操作符，如果第一个值能决定结果，就不会再对第二个操作求值。
+ 相反的是，如果第一个值的`Boolean()`操作为`false`，那么会执行第二个值或语句，继续求值。
+ 如果第一个值的`Boolean()`操作为`true`，那么第二个值或语句就永远无效了。

`let a = res || '';`&nbsp;&nbsp;&nbsp;&nbsp;等同于：&nbsp;&nbsp;`let a = res? res: '';`

### 3.2.4加操作：

>一旦遇到与字符串相加，就会先将数值转为字符串。而减、乘、除、取余都是将其他值转为数值再运算。

### 3.2.5关系操作符：

#### 小于、大于、小于等于和大于等于

+ 如果两个操作数都是数值，则执行数值比较。
+ 如果两个操作数都是字符串，则比较两个字符串对应的字符编码值（第一位与第一位比较，第二位与第二位比较）。
+ 如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较。
+ 如果一个操作数是布尔值，则先将其转换为数值，然后再执行比较。
+ 如果一个操作数是对象，则调用这个对象的valueOf()方法，用得到的结果按照前面的规则执
行比较。如果对象没有valueOf()方法，则调用toString()方法，并用得到的结果根据前面
的规则执行比较。

>需要注意的是字符串之间的比较，因为比较的是编码值，所以<br/>
`var result = "Brick" < "alphabet"; //true`<br/>
需要正常的值应该如下：<br/>
`var result = "Brick".toLowerCase() < "alphabet".toLowerCase(); //false`<br/>
另外需要注意的是：<br/>
`var result = "23" < "3"; //true`<br/>
因为比较的是'2'和'3'的编码，正常操作应该如下：<br/>
`var result = "23" < 3; //false`

最后：

**<font color="red">NaN与任何值进行>、<、>=、<=比较时都为false</font>**

